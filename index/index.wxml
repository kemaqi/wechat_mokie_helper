<wxs module="utils">
module.exports.max = function(n1, n2) {
  return Math.max(n1, n2)
}
module.exports.len = function(arr) {
  arr = arr || []
  return arr.length
}
</wxs>
<button wx:if="{{DeviceStart}}" bindtap="openBluetoothAdapter">开始扫描</button>
<button wx:else bindtap="closeBluetoothAdapter">停止扫描</button>

<view class="devices_summary">已发现 {{devices.length}} 量摩拜单车：</view>
<scroll-view class="device_list" scroll-y scroll-with-animation>
  <view wx:for="{{devices}}" wx:for-index="i" wx:key="index" class="device_item" hover-class="device_item_hover">
    <view style="font-size: 16px">
      <text style="float: left" selectable="true"> {{i}} 单车编号：</text>
      <text style="font-size: 20px" selectable="true" bindlongtap="copy">{{item.bikeNum}}</text> 
      <text wx:if="{{item.RSSI>-90}}" style="float: right">{{item.RSSI}}dBm</text>
      <text wx:else style="float: right;color: red">{{item.RSSI}}dBm</text>
    </view>
  </view>
</scroll-view>